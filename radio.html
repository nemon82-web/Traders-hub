<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Global Waves</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;500;700&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <style>
    :root {
      --primary: rgba(255,255,255,0.9);
      --glass: rgba(255,255,255,0.05);
    }
    * { box-sizing:border-box; margin:0; padding:0; }
    body {
      min-height:100vh; padding:2rem;
      display:flex; flex-wrap:wrap; gap:2rem;
      align-items:center; justify-content:center;
      font-family:'Inter',sans-serif;
      background:linear-gradient(-45deg,#0f2027,#203a43,#2c5364,#3a6073);
      background-size:400% 400%; animation:gradient 15s ease infinite;
      color:var(--primary);
    }
    @keyframes gradient {
      0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}
    }
    .player-card {
      background:rgba(255,255,255,0.1); border-radius:24px;
      padding:2rem; backdrop-filter:blur(16px) saturate(180%);
      box-shadow:0 8px 32px rgba(0,0,0,0.3); width:360px; text-align:center;
      border:1px solid rgba(255,255,255,0.1);
    }
    .player-header h1 {
      font-size:1.75rem; font-weight:700; display:flex;
      justify-content:center; gap:.5rem;
    }
    .station-info {
      margin:1.2rem 0; font-size:1.05rem; font-weight:500;
      min-height:24px; opacity:.9;
    }
    .station-buttons {
      display:grid; grid-template-columns:repeat(2,1fr);
      gap:.6rem; margin-bottom:1.8rem;
    }
    .station-btn {
      background:var(--glass); border:1px solid rgba(255,255,255,0.1);
      border-radius:12px; padding:.8rem; cursor:pointer; transition:.3s;
      font-size:.9rem; color:var(--primary);
      display:flex; flex-direction:column; align-items:center; gap:.4rem;
    }
    .station-btn.active, .station-btn:hover {
      background:rgba(255,255,255,0.2); transform:translateY(-2px);
    }
    .controls { display:flex; flex-direction:column; gap:1.2rem; }
    .play-controls { display:flex; justify-content:center; gap:1.2rem; }
    .play-controls button {
      background:none; border:none; cursor:pointer; transition:.2s; padding:.8rem;
      border-radius:50%; width:56px; height:56px; display:flex;
      align-items:center; justify-content:center;
      background:rgba(255,255,255,0.1);
    }
    .play-controls button.play-btn { background:var(--primary); color:#2c5364;
      box-shadow:0 4px 12px rgba(0,0,0,0.2);
    }
    .play-controls i { font-size:1.5rem; }
    .play-controls button:hover { transform:scale(1.05); }
    .volume-control { display:flex; align-items:center; gap:.6rem; }
    .volume-control input[type=range] {
      width:100%; height:4px; background:rgba(255,255,255,0.1);
      border-radius:2px; -webkit-appearance:none;
    }
    .volume-control input[type=range]::-webkit-slider-thumb {
      -webkit-appearance:none; width:14px; height:14px;
      background:var(--primary); border-radius:50%; cursor:pointer;
    }
  </style>
</head>
<body>

  <!-- London -->
  <div class="player-card">
    <div class="player-header">
      <h1><i class="fas fa-city"></i> London</h1>
    </div>
    <div class="station-info">Select a station</div>
    <div class="station-buttons">
      <button class="station-btn" data-name="BBC Radio 1" data-url="http://stream.live.vc.bbc_radio_one">
        <i class="fas fa-play-circle"></i> BBC 1
      </button>
      <button class="station-btn" data-name="Capital FM" data-url="http://media-ice.musicradio.com/CapitalMP3">
        <i class="fas fa-headphones"></i> Capital
      </button>
      <button class="station-btn" data-name="LBC London" data-url="http://media-ice.musicradio.com/LBCLondonMP3">
        <i class="fas fa-bullhorn"></i> LBC
      </button>
      <button class="station-btn" data-name="Classic FM" data-url="http://media-ice.musicradio.com/ClassicFMMP3">
        <i class="fas fa-music"></i> Classic
      </button>
    </div>
    <audio controls preload="none"></audio>
    <div class="controls">
      <div class="play-controls">
        <button class="play-btn"><i class="fas fa-play"></i></button>
      </div>
      <div class="volume-control">
        <i class="fas fa-volume-up"></i>
        <input type="range" min="0" max="1" step="0.1" value="0.5"/>
      </div>
    </div>
  </div>

  <!-- New York -->
  <div class="player-card">
    <div class="player-header">
      <h1><i class="fas fa-building"></i> New York</h1>
    </div>
    <div class="station-info">Select a station</div>
    <div class="station-buttons">
      <button class="station-btn" data-name="WNYC FM 93.9" data-url="https://fm939.wnyc.org/wnycfm">
        <i class="fas fa-newspaper"></i> WNYC FM
      </button>
      <button class="station-btn" data-name="WNYC AM 820" data-url="https://am820.wnyc.org/wnycam">
        <i class="fas fa-broadcast-tower"></i> WNYC AM
      </button>
      <button class="station-btn" data-name="WQXR 105.9" data-url="https://stream.wqxr.org/wqxr">
        <i class="fas fa-compact-disc"></i> WQXR
      </button>
      <button class="station-btn" data-name="Q2 New Sounds" data-url="https://q2stream.wqxr.org/q2">
        <i class="fas fa-music"></i> Q2
      </button>
    </div>
    <audio controls preload="none"></audio>
    <div class="controls">
      <div class="play-controls">
        <button class="play-btn"><i class="fas fa-play"></i></button>
      </div>
      <div class="volume-control">
        <i class="fas fa-volume-up"></i>
        <input type="range" min="0" max="1" step="0.1" value="0.5"/>
      </div>
    </div>
  </div>

  <!-- Australia -->
  <div class="player-card">
    <div class="player-header">
      <h1><i class="fas fa-flag"></i> Australia</h1>
    </div>
    <div class="station-info">Select a station</div>
    <div class="station-buttons">
      <button class="station-btn" data-name="Triple J" data-url="http://live-radio01.mediahubaustralia.com/2TJW/mp3/">
        <i class="fas fa-music"></i> Triple J
      </button>
      <button class="station-btn" data-name="ABC Radio National" data-url="http://live-radio01.mediahubaustralia.com/abcrn.mp3">
        <i class="fas fa-globe"></i> ABC RN
      </button>
      <button class="station-btn" data-name="ABC Classic" data-url="http://live-radio01.mediahubaustralia.com/abcclassic.mp3">
        <i class="fas fa-drum"></i> ABC Classic
      </button>
      <button class="station-btn" data-name="2GB Sydney" data-url="http://live-radio01.mediahubaustralia.com/2gb.mp3">
        <i class="fas fa-broadcast-tower"></i> 2GB
      </button>
    </div>
    <audio controls preload="none"></audio>
    <div class="controls">
      <div class="play-controls">
        <button class="play-btn"><i class="fas fa-play"></i></button>
      </div>
      <div class="volume-control">
        <i class="fas fa-volume-up"></i>
        <input type="range" min="0" max="1" step="0.1" value="0.5"/>
      </div>
    </div>
  </div>

  <!-- Japan -->
  <div class="player-card">
    <div class="player-header">
      <h1><i class="fas fa-globe-asia"></i> Japan</h1>
    </div>
    <div class="station-info">Select a station</div>
    <div class="station-buttons">
      <button class="station-btn" data-name="J‑WAVE (81.3 FM)" data-url="http://playerservices.streamtheworld.com/api/livestream-redirect/J-WAVE.mp3">
        <i class="fas fa-wind"></i> J‑WAVE
      </button>
      <button class="station-btn" data-name="Tokyo FM (80.0 FM)" data-url="http://playerservices.streamtheworld.com/api/livestream-redirect/TOKYOFM.mp3">
        <i class="fas fa-city"></i> Tokyo FM
      </button>
      <button class="station-btn" data-name="InterFM (89.7 FM)" data-url="http://playerservices.streamtheworld.com/api/livestream-redirect/INTERFM.mp3">
        <i class="fas fa-music"></i> InterFM
      </button>
      <button class="station-btn" data-name="NHK World" data-url="https://www3.nhk.or.jp/netradio/hls/live/gh-rjrs.m3u8">
        <i class="fas fa-globe"></i> NHK World
      </button>
    </div>
    <audio controls preload="none"></audio>
    <div class="controls">
      <div class="play-controls">
        <button class="play-btn"><i class="fas fa-play"></i></button>
      </div>
      <div class="volume-control">
        <i class="fas fa-volume-up"></i>
        <input type="range" min="0" max="1" step="0.1" value="0.5"/>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
  <script>
    document.querySelectorAll('.player-card').forEach(card => {
      const stations = card.querySelectorAll('.station-btn');
      const audio   = card.querySelector('audio');
      const playBtn = card.querySelector('.play-btn');
      const volume  = card.querySelector('.volume-control input[type=range]');
      const info    = card.querySelector('.station-info');
      const icon    = playBtn.querySelector('i');
      let hls;

      stations.forEach(btn => btn.addEventListener('click', () => {
        stations.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        info.textContent = btn.dataset.name;
        const url = btn.dataset.url;

        if (hls) { hls.destroy(); hls = null; audio.src = ''; }

        if (url.endsWith('.m3u8') && Hls.isSupported()) {
          hls = new Hls();
          hls.loadSource(url);
          hls.attachMedia(audio);
        } else {
          audio.src = url;
        }
        audio.play();
        icon.classList.replace('fa-play', 'fa-pause');
      }));

      playBtn.addEventListener('click', () => {
        if (audio.paused) {
          audio.play();
          icon.classList.replace('fa-play', 'fa-pause');
        } else {
          audio.pause();
          icon.classList.replace('fa-pause', 'fa-play');
        }
      });

      volume.addEventListener('input', e => audio.volume = e.target.value);

      audio.addEventListener('error', () => {
        info.textContent = '❌ Error loading station';
        icon.classList.replace('fa-pause', 'fa-play');
        card.querySelector('.station-btn.active')?.classList.remove('active');
      });
      audio.addEventListener('play', () => icon.classList.replace('fa-play', 'fa-pause'));
      audio.addEventListener('pause', () => icon.classList.replace('fa-pause', 'fa-play'));
    });
  </script>
</body>
</html>
