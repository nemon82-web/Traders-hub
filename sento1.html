<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Contrarian Sentiment Dashboard</title>
  <style>
    /* Reset some default styles */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: Arial, sans-serif;
      background: #121212; /* Dark background */
      margin: 20px;
      color: #e0e0e0; /* Light text for contrast */
    }

    h1, h2 {
      text-align: center;
      margin-bottom: 15px;
      color: #ffffff; /* White headers */
    }

    .info {
      max-width: 700px;
      margin: 0 auto 20px auto;
      padding: 15px;
      background: #1e1e1e; /* Slightly lighter dark background */
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.5);
    }

    .info p {
      margin: 10px 0;
      line-height: 1.6;
      color: #cccccc; /* Slightly lighter text */
    }

    table {
      margin: 0 auto 20px auto;
      border-collapse: collapse;
      width: 90%;
      max-width: 700px;
      background: #1e1e1e;
      border: 1px solid #333;
      border-radius: 8px;
      overflow: hidden;
    }

    th, td {
      border: 1px solid #333;
      padding: 12px 15px;
      text-align: center;
    }

    th {
      background: #333333;
      font-weight: bold;
      color: #ffffff;
    }

    tr:nth-child(even) {
      background: #2a2a2a;
    }

    tr:nth-child(odd) {
      background: #1e1e1e;
    }

    .widget-container {
      max-width: 900px;
      margin: 0 auto 30px auto;
      text-align: center;
      padding: 20px;
      background: #1e1e1e;
      border: 1px solid #333;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.5);
    }

    /* Specific styles for the widget to enhance visibility */
    .myfxbook-widget-wrapper {
      background: #ffffff; /* Light background for widget */
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
      display: inline-block;
    }

    #consoleArea {
      background: #272822;
      color: #e0e0e0;
      padding: 15px;
      margin: 0 auto;
      max-width: 700px;
      font-family: monospace;
      min-height: 100px;
      border-radius: 8px;
      box-shadow: inset 0 0 10px rgba(0,0,0,0.5);
      overflow-y: auto;
    }

    .tips {
      font-size: 14px;
      color: #999999;
      margin-top: 15px;
      text-align: center;
    }

    .tips i {
      color: #777777;
    }

    a.myfxbookLink {
      color: #1e90ff;
      text-decoration: none;
    }

    a.myfxbookLink:hover {
      text-decoration: underline;
    }

    /* Responsive Design */
    @media (max-width: 600px) {
      .info, .widget-container, #consoleArea {
        padding: 10px;
        width: 100%;
      }

      table {
        width: 100%;
      }
    }
  </style>
</head>
<body>

  <h1>Contrarian Sentiment Dashboard</h1>
  <div class="info">
    <p>
      This page helps you gauge when to go <strong>short</strong> or <strong>long</strong> based on
      contrarian sentiment. When the crowd heavily commits to one side, the market may keep
      pressuring them. Use this table as a quick reference, then check the live Myfxbook sentiment below.
    </p>
  </div>

  <!-- Sentiment Reference Table -->
  <h2>When to Go Short/Long (based on sentiment)</h2>
  <table>
    <tr>
      <th>Short Ratio</th>
      <th>Interpretation</th>
      <th>Possible Action</th>
    </tr>
    <tr>
      <td>&lt; 60%</td>
      <td>Relatively Balanced / More Long than Short</td>
      <td>Neutral or Mild Bullish<br><i>Watch for breakouts or re-entries</i></td>
    </tr>
    <tr>
      <td>60–80%</td>
      <td>Noticeable Short Bias</td>
      <td>Potential Bullish Setup<br><i>Price can still climb as crowd is short</i></td>
    </tr>
    <tr>
      <td>80–90%</td>
      <td>Strong Short Bias</td>
      <td>Often Continues Bullish<br><i>Short squeezes might persist</i></td>
    </tr>
    <tr>
      <td>&gt; 90%</td>
      <td>Extreme Short Positioning</td>
      <td>Very Strong Bullish Potential<br><i>Be very cautious going short</i></td>
    </tr>
  </table>

  <!-- Embed Myfxbook Widget -->
  <div class="widget-container">
    <h2>Myfxbook Live Sentiment</h2>
    <div class="myfxbook-widget-wrapper">
      <script class="powered" type="text/javascript"
          src="https://widgets.myfxbook.com/scripts/fxOutlook.js?type=1&symbols=,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,31,32,33,34,36,37,38,40,41,43,45,46,47,48,49,50,51,103,107,131,137,1233,1234,1235,1236,1245,1246,1247,1249,1252,1253,1692,1773,1815,1863,1893,1959,1965,2012,2076,2090,2114,2115,2119,2438,2519,2521,2603,2694,2872,3005,3240,3473,5079,5281,5435,5779,5851,5858"></script>
      <div style="font-size:10px; margin-top: 10px;">
        <a href="https://www.myfxbook.com" title="Myfxbook" class="myfxbookLink" target="_blank" rel="noopener">
          Short VS Long
        </a>
      </div>
      <script type="text/javascript">
        // Ensure the widget is displayed correctly
        if (typeof showOutlookWidget === 'function') {
          showOutlookWidget();
        } else {
          console.error('showOutlookWidget function is not defined.');
        }
      </script>
    </div>
  </div>

  <!-- Console area to log observations -->
  <h2>Sentiment Logs & Notes</h2>
  <div id="consoleArea">
    <!-- JavaScript can append your real-time logs here -->
    <p>Console ready... waiting for data!</p>
  </div>

  <script>
    // Example: how you might log logic based on a hypothetical short ratio
    function analyzeSentiment(shortRatio) {
      const consoleDiv = document.getElementById('consoleArea');

      let message = `Current Short Ratio: ${shortRatio}% - `;
      if (shortRatio >= 90) {
        message += "⚠️ Extreme Short Bias -> Potential strong bullish moves!";
      } else if (shortRatio >= 80) {
        message += "High Short Bias -> Market may still push higher (short squeeze).";
      } else if (shortRatio >= 60) {
        message += "Moderate Short Bias -> Watch for bullish continuation.";
      } else {
        message += "Balanced or Long Bias -> Potential for downward correction or neutral trend.";
      }

      // Create a new paragraph for each message
      const p = document.createElement('p');
      p.textContent = message;
      consoleDiv.appendChild(p);

      // Optionally, scroll to the bottom
      consoleDiv.scrollTop = consoleDiv.scrollHeight;
    }

    // Example usage: just a mock ratio
    analyzeSentiment(85);
  </script>

  <div class="tips">
    <p><i>Tip: Combine sentiment extremes with technical analysis<br/>
    to confirm the best points to go short or long.</i></p>
  </div>

</body>
</html>
